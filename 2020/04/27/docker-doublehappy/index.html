<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>docker--doublehappy | DoubleHappy or Jepson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <meta name="description" content="docker文档官网 1docker 一定是选用  社区版本的 花钱的版本我们不用的 docker-linux-centos 部署 12345678910111213141516171819202122232425按照官网走即可:1.部署安装 yum工具：yum install -y yum-utils \device-mapper-persistent-data \lvm2-----------">
<meta property="og:type" content="article">
<meta property="og:title" content="docker--doublehappy">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2020&#x2F;04&#x2F;27&#x2F;docker-doublehappy&#x2F;index.html">
<meta property="og:site_name" content="DoubleHappy or Jepson">
<meta property="og:description" content="docker文档官网 1docker 一定是选用  社区版本的 花钱的版本我们不用的 docker-linux-centos 部署 12345678910111213141516171819202122232425按照官网走即可:1.部署安装 yum工具：yum install -y yum-utils \device-mapper-persistent-data \lvm2-----------">
<meta property="og:locale" content="en">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206140123182.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206144443384.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206144710722.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206144958604.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206155918366.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206160811416.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206162332705.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206162410539.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206164751677.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206170328683.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206170932854.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
<meta property="og:updated_time" content="2020-04-27T09:27:58.787Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20200206140123182.png?x-oss-process=image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70">
  
    <link rel="alternate" href="/atom.xml" title="DoubleHappy or Jepson" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/default-avatar.jpg">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/highlight.css">
</head>

<body>
  <div id="fullpage" class="mobile-nav-right">
    
      <div id="wrapper" title="图片来自网络">
    
    
      <header id="header">
  <div id="nav-toggle" class="nav-toggle"></div>
  <div class="head-box global-width">
    <nav class="nav-box nav-right">
      
        <a class="nav-item" href="/archives" title
        
        >首页</a>
      
        <a class="nav-item" href="/archives" title
        
        >归档</a>
      
    </nav>
  </div>
</header>
      <div id="middlecontent" title class="global-width sidebar-right">
        <section id="main"><article id="post-docker-doublehappy" class="article global-container article-type-post" itemscope itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      docker--doublehappy
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2020/04/27/docker-doublehappy/" class="article-date">
  <time datetime="2020-04-27T09:27:30.000Z" itemprop="datePublished">2020-04-27</time>
</a>
    
    
  </div>
  
    <span id="busuanzi_container_page_pv">
      本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <p><a href="https://docs.docker.com/" target="_blank" rel="noopener">docker文档官网</a></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker 一定是选用  社区版本的 花钱的版本我们不用的</span><br></pre></td></tr></table></figure></div>
<p><a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener">docker-linux-centos</a></p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p><img src="https://img-blog.csdnimg.cn/20200206140123182.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">按照官网走即可:</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.部署</span><br><span class="line"></span><br><span class="line">安装 yum工具：</span><br><span class="line">yum install -y yum-utils \</span><br><span class="line">device-mapper-persistent-data \</span><br><span class="line">lvm2</span><br><span class="line">----------------------------------------------</span><br><span class="line">安装dockeryum源：</span><br><span class="line"></span><br><span class="line">yum-config-manager \</span><br><span class="line">--add-repo \</span><br><span class="line">https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">----------------------------------------------</span><br><span class="line">安装docker的引擎：</span><br><span class="line"></span><br><span class="line">yum install -y docker-ce docker-ce-cli containerd.io</span><br><span class="line">----------------------------------------------</span><br><span class="line">启动docker：</span><br><span class="line"></span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl status docker</span><br><span class="line"></span><br><span class="line">----------------------------------------------</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">注意：</span><br><span class="line">	上面的第二步骤：</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># yum-config-manager \</span></span><br><span class="line">&gt; --add-repo \</span><br><span class="line">&gt; https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">adding repo from: https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">grabbing file https://download.docker.com/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">repo saved to /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># ll /etc/yum.repos.d</span></span><br><span class="line">total <span class="number">16</span></span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root  <span class="number">675</span> Sep <span class="number">11</span> <span class="number">09</span>:<span class="number">44</span> CentOS-Base.repo</span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root <span class="number">2424</span> Oct <span class="number">19</span> <span class="number">05</span>:<span class="number">57</span> docker-ce.repo</span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root  <span class="number">230</span> Sep <span class="number">11</span> <span class="number">09</span>:<span class="number">44</span> epel.repo</span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root  <span class="number">113</span> Jul <span class="number">15</span>  <span class="number">2014</span> nginx.repo</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">/etc/yum.repos.d：</span><br><span class="line">	这个目录就是你 yum 源所安装的东西 </span><br><span class="line"></span><br><span class="line">可以看一下：</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># cat /etc/yum.repos.d/docker-ce.repo</span></span><br><span class="line">[docker-ce-stable]</span><br><span class="line">name=Docker CE Stable - <span class="variable">$basearch</span></span><br><span class="line">baseurl=https://download.docker.com/linux/centos/<span class="number">7</span>/<span class="variable">$basearch</span>/stable</span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">gpgkey=https://download.docker.com/linux/centos/gpg</span><br><span class="line"></span><br><span class="line">[docker-ce-stable-debuginfo]</span><br><span class="line">name=Docker CE Stable - Debuginfo <span class="variable">$basearch</span></span><br><span class="line">baseurl=https://download.docker.com/linux/centos/<span class="number">7</span>/debug-<span class="variable">$basearch</span>/stable</span><br><span class="line">enabled=</span><br><span class="line">gpgcheck=<span class="number">1</span></span><br><span class="line">gpgkey=https://download.docker.com/linux/centos/gpg</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这就是 yum源 到时候去这些地址 下载东西</span><br></pre></td></tr></table></figure></div>
<h2 id="docker-hub"><a href="#docker-hub" class="headerlink" title="docker hub"></a>docker hub</h2><div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">docker官方的镜像仓库地址: 与github是类似的 </span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line"><span class="number">1</span>.docker hub 就是存放我们的镜像的</span><br><span class="line"><span class="number">2</span>.image 镜像</span><br><span class="line"><span class="number">3</span>.container 镜像文件创建的实例</span><br><span class="line"></span><br><span class="line">eg：</span><br><span class="line">	win7 系统盘 iso镜像文件 ==》VM工具==》win7-<span class="number">1</span>  win7-<span class="number">2</span> 实例</span><br><span class="line">即：</span><br><span class="line">	win7 系统盘 iso镜像文件    就是 image</span><br><span class="line">	win7-<span class="number">1</span>  win7-<span class="number">2</span> 实例       就是 container</span><br></pre></td></tr></table></figure></div>
<p><a href="https://www.docker.com/products/docker-hub" target="_blank" rel="noopener">docker官方的镜像仓库地址</a></p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p><strong>hello world</strong></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">docker help </span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker search hello</span></span><br><span class="line">NAME                                       DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</span><br><span class="line">hello-world                                Hello World! (an example of minimal Dockeriz…   <span class="number">1121</span>                [OK]                </span><br><span class="line">kitematic/hello-world-nginx                A light-weight nginx container that demonstr…   <span class="number">138</span>                                     </span><br><span class="line"></span><br><span class="line">我们找一个案例  hello-world  官网的</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.先把 需要的 pull 下来 </span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker pull hello-world</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line"><span class="number">1</span>b930d010525: Pull complete </span><br><span class="line">Digest: sha256:<span class="number">9572</span>f7cdcee8591948c2963463447a53466950b3fc15a247fcad1917ca215a2f</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> hello-world:latest</span><br><span class="line">docker.io/library/hello-world:latest</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">	hello-world:latest</span><br><span class="line">指的是：</span><br><span class="line">	镜像的名字 ： 镜像的版本</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.看一下我们机器上有那些镜像</span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">apache/kudu         latest              e1c6e5b62086        <span class="number">2</span> months ago        <span class="number">476</span>MB</span><br><span class="line">hello-world         latest              fce289e99eb9        <span class="number">13</span> months ago       <span class="number">1.84</span>kB</span><br><span class="line">kunickiaj/kudu      latest              c30c95f5fe58        <span class="number">17</span> months ago       <span class="number">896</span>MB</span><br><span class="line">docker/compose      <span class="number">1.8</span>.<span class="number">0</span>               <span class="number">89188432</span>ef03        <span class="number">3</span> years ago         <span class="number">59.1</span>MB</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 通过 镜像模版 生成一个 容器（实例）</span><br><span class="line"> 	  通过 image 生成一个  container</span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker run hello-world</span></span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> <span class="number">1</span>. The Docker client contacted the Docker daemon.</span><br><span class="line"> <span class="number">2</span>. The Docker daemon pulled the <span class="string">"hello-world"</span> image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> <span class="number">3</span>. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> <span class="number">4</span>. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To <span class="keyword">try</span> something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.查看运行生成的实例</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND                  CREATED              STATUS                          PORTS               NAMES</span><br><span class="line">a38e8df475a1        hello-world          <span class="string">"/hello"</span>                 About a minute ago   Exited (<span class="number">0</span>) About a minute ago                       strange_thompson</span><br><span class="line">cc897cbba1ae        kunickiaj/kudu       <span class="string">"/docker-entrypoint.…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            kudu-tserver</span><br><span class="line"><span class="number">5402</span>fe1c9d3a        kunickiaj/kudu       <span class="string">"/docker-entrypoint.…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            kudu-master</span><br><span class="line">c36ac4effd05        kunickiaj/kudu       <span class="string">"/docker-entrypoint.…"</span>   <span class="number">8</span> weeks ago          Created                                             kudu-tserver-data</span><br><span class="line"><span class="number">37</span>f0ad272538        kunickiaj/kudu       <span class="string">"/docker-entrypoint.…"</span>   <span class="number">8</span> weeks ago          Created                                             kudu-master-data</span><br><span class="line">ee07f7ee2717        apache/kudu:latest   <span class="string">"/kudu-entrypoint.sh…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            docker_kudu-tserver_1</span><br><span class="line"><span class="number">1</span>a1ae66602ad        apache/kudu:latest   <span class="string">"/kudu-entrypoint.sh…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            docker_kudu-master-<span class="number">1</span>_1</span><br><span class="line">f440472b35b2        apache/kudu:latest   <span class="string">"/kudu-entrypoint.sh…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            docker_kudu-master-<span class="number">2</span>_1</span><br><span class="line"><span class="number">1</span>b32425575bb        apache/kudu:latest   <span class="string">"/kudu-entrypoint.sh…"</span>   <span class="number">8</span> weeks ago          Exited (<span class="number">137</span>) <span class="number">6</span> weeks ago                            docker_kudu-master-<span class="number">3</span>_1</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">第三波的打印：就是 docker的步骤</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.docker 有 客户端 + 服务端 </span><br><span class="line">	即：docker命令 就是 client</span><br><span class="line">		后台 status 显示的进程 就是 daemon（服务段）</span><br><span class="line"><span class="number">2</span>.client 仅仅 用来 发送指令的 </span><br><span class="line">	其他的 run 等 全是 服务段来做的</span><br></pre></td></tr></table></figure></div>
<p><strong>nginx</strong></p>
<p><img src="https://img-blog.csdnimg.cn/20200206144443384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">去 docker hub 上面 搜一下 使用官方的</span><br></pre></td></tr></table></figure></div>
<p><a href="https://hub.docker.com/_/nginx?tab=tags" target="_blank" rel="noopener">nginx的dock！！！</a><br><img src="https://img-blog.csdnimg.cn/20200206144710722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20200206144958604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">在上面的url 的 描述选项 可以知道如何使用 nginx：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.docker pull nginx:latest</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.docker run \</span><br><span class="line">--name doublehappy-nginx1 \</span><br><span class="line">-d -p <span class="number">8080</span>:<span class="number">80</span> \</span><br><span class="line">nginx:latest</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">--name 指定 镜像实例的名字</span><br><span class="line">nginx:latest  指的是 你来自哪个镜像的 </span><br><span class="line"><span class="number">8080</span>:<span class="number">80</span>     </span><br><span class="line">	<span class="number">8080</span> 指linux的端口  <span class="number">80</span> 指的是 容器的端口 即 我访问linux8080 会映射到docker <span class="number">80</span> 端口</span><br><span class="line"> </span><br><span class="line"><span class="number">3</span>. 查看现在存活的 </span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker ps </span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</span><br><span class="line">d4267c461c6c        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   <span class="number">40</span> seconds ago      Up <span class="number">40</span> seconds       <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8080</span>-&gt;<span class="number">80</span>/tcp   doublehappy-nginx1</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">加上 -a  连推出过的 都看</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line"> <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8080</span>-&gt;<span class="number">80</span>/tcp  </span><br><span class="line">试着 页面访问 通过 linux <span class="number">8080</span></span><br></pre></td></tr></table></figure></div>
<p><img src="https://img-blog.csdnimg.cn/20200206155918366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">说明：</span><br><span class="line">	我们通过docker 启动的一个 实例 </span><br><span class="line">	容器里 运行着nginx 是可以访问的</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>.进入 nginx 的 </span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker exec -it d4267c461c6c /bin/bash</span></span><br><span class="line">root@d4267c461c6c:/<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">看一个东西：</span><br><span class="line">root@d4267c461c6c:/<span class="comment"># ls -l /</span></span><br><span class="line">total <span class="number">64</span></span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> bin</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Nov <span class="number">10</span> <span class="number">12</span>:<span class="number">17</span> boot</span><br><span class="line">drwxr-xr-x  <span class="number">5</span> root root  <span class="number">340</span> Feb  <span class="number">6</span> <span class="number">07</span>:<span class="number">49</span> dev</span><br><span class="line">drwxr-xr-x  <span class="number">1</span> root root <span class="number">4096</span> Feb  <span class="number">6</span> <span class="number">07</span>:<span class="number">49</span> etc</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Nov <span class="number">10</span> <span class="number">12</span>:<span class="number">17</span> home</span><br><span class="line">drwxr-xr-x  <span class="number">1</span> root root <span class="number">4096</span> Feb  <span class="number">2</span> <span class="number">08</span>:<span class="number">06</span> lib</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> lib64</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> media</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> mnt</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> opt</span><br><span class="line">dr-xr-xr-x <span class="number">93</span> root root    <span class="number">0</span> Feb  <span class="number">6</span> <span class="number">07</span>:<span class="number">49</span> proc</span><br><span class="line">drwx------  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> root</span><br><span class="line">drwxr-xr-x  <span class="number">1</span> root root <span class="number">4096</span> Feb  <span class="number">6</span> <span class="number">07</span>:<span class="number">49</span> run</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> sbin</span><br><span class="line">drwxr-xr-x  <span class="number">2</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> srv</span><br><span class="line">dr-xr-xr-x <span class="number">13</span> root root    <span class="number">0</span> Feb  <span class="number">6</span> <span class="number">07</span>:<span class="number">49</span> sys</span><br><span class="line">drwxrwxrwt  <span class="number">1</span> root root <span class="number">4096</span> Feb  <span class="number">2</span> <span class="number">08</span>:<span class="number">06</span> tmp</span><br><span class="line">drwxr-xr-x  <span class="number">1</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> usr</span><br><span class="line">drwxr-xr-x  <span class="number">1</span> root root <span class="number">4096</span> Jan <span class="number">30</span> <span class="number">00</span>:<span class="number">00</span> var</span><br><span class="line">root@d4267c461c6c:/<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">这就是容器里的 结构</span><br><span class="line"></span><br><span class="line">下面画个图理解</span><br></pre></td></tr></table></figure></div>
<p><img src="https://img-blog.csdnimg.cn/20200206160811416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>.nginx 映射一个 别的页面</span><br><span class="line"></span><br><span class="line">emmm 准备一个html： 给他映射到  我git博客上</span><br><span class="line">-------------------------------</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: <span class="number">35</span>em;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"p1"</span>&gt;Hello Funs&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">"https://sxwanggit126.github.io/archives/"</span>&gt;my blog&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">准备：</span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># vim doublehappy.html</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  ead&gt;</span><br><span class="line">▽title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: <span class="number">35</span>em;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"p1"</span>&gt;Hello Funs&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">"https://sxwanggit126.github.io/archives/"</span>&gt;www.ruozedata.com&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">~                                                                                                                 </span><br><span class="line">~                                                                                                                 </span><br><span class="line"><span class="string">"doublehappy.html"</span> [New] <span class="number">18</span>L, <span class="number">330</span>C written                                                      </span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># vim doublehappy.html</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">▽       width: <span class="number">35</span>em;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"p1"</span>&gt;Hello Funs&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">"https://sxwanggit126.github.io/archives/"</span>&gt;www.ruozedata.com&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">~                                                                                                                 </span><br><span class="line">~                                                                                                                 </span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># ll</span></span><br><span class="line">total <span class="number">4</span></span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root <span class="number">330</span> Feb  <span class="number">6</span> <span class="number">16</span>:<span class="number">16</span> doublehappy.html</span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># mv doublehappy.html  index.html</span></span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># vim index.html </span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: <span class="number">35</span>em;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"p1"</span>&gt;Hello Funs&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">"https://sxwanggit126.github.io/archives/"</span>&gt;www.ruozedata.com&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">~                                                                                                                 </span><br><span class="line">~                                                                                                                 </span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># pwd</span></span><br><span class="line">/root/nginx</span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">默认 是 index.xml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令：我们换一个 nginx  同时 换一个 端口号</span><br><span class="line"></span><br><span class="line">docker run \</span><br><span class="line">--name doublehappy-nginx2 \</span><br><span class="line">-v /root/nginx:/usr/share/nginx/html:ro \</span><br><span class="line">-d -p <span class="number">8081</span>:<span class="number">80</span> \</span><br><span class="line">nginx:latest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-v：指的是 将本地的文件夹映射到 容器里面的文件夹</span><br><span class="line">ro：指的是 你挂载的文件 是否可读和可写  r可读  w可写  即：rw</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</span><br><span class="line"><span class="number">7</span>fbe515cc1ee        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   <span class="number">7</span> seconds ago       Up <span class="number">6</span> seconds        <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8081</span>-&gt;<span class="number">80</span>/tcp   doublehappy-nginx2</span><br><span class="line">d4267c461c6c        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   <span class="number">30</span> minutes ago      Up <span class="number">30</span> minutes       <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8080</span>-&gt;<span class="number">80</span>/tcp   doublehappy-nginx1</span><br><span class="line">[root@hadoop101 nginx]<span class="comment">#</span></span><br></pre></td></tr></table></figure></div>
<p><img src="https://img-blog.csdnimg.cn/20200206162332705.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>点击链接 即可 进入映射的url<br><img src="https://img-blog.csdnimg.cn/20200206162410539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">进入 容器：</span><br><span class="line">[root@hadoop101 nginx]<span class="comment"># docker exec -it doublehappy-nginx2 /bin/bash</span></span><br><span class="line">root@<span class="number">7</span>fbe515cc1ee:/<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">/bin/bash  指的是 以什么进行 解析 </span><br><span class="line">因为 这个容器 相当于 运行一个 小的 linux 以 bash来进行解析</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@<span class="number">7</span>fbe515cc1ee:/<span class="comment"># ls -l /usr/share/nginx/html</span></span><br><span class="line">total <span class="number">4</span></span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root <span class="number">320</span> Feb  <span class="number">6</span> <span class="number">08</span>:<span class="number">23</span> index.html</span><br><span class="line">root@<span class="number">7</span>fbe515cc1ee:/<span class="comment"># cat /usr/share/nginx/html/index.html</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: <span class="number">35</span>em;</span><br><span class="line">        margin: <span class="number">0</span> auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=<span class="string">"p1"</span>&gt;Hello Funs&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">"https://sxwanggit126.github.io/archives/"</span>&gt;my blog&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">root@<span class="number">7</span>fbe515cc1ee:/<span class="comment">#</span></span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">总结：</span><br><span class="line">docker 目的就是 简化 </span><br><span class="line"></span><br><span class="line">container 容器实例 其实就是一个ps的进程 containerd-shim，那么只能运行一个服务</span><br><span class="line">这句话什么意思呢？</span><br><span class="line">	就是 加入你要部署一个 伪分布式的 Hadoop</span><br><span class="line">	nn，dn 这两个 都各自是一个进程 </span><br><span class="line">	也就是说 你用docker 需要 部署两次 一个是 nn 一个是 dn</span><br></pre></td></tr></table></figure></div>
<p><strong>Mysql</strong></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment"># docker pull mysql:5.7</span></span><br><span class="line"><span class="number">5.7</span>: Pulling from library/mysql</span><br><span class="line"><span class="number">619014</span>d83c02: Pull complete </span><br><span class="line"><span class="number">9</span>ced578c3a5f: Pull complete </span><br><span class="line"><span class="number">731</span>f6e13d8ea: Pull complete </span><br><span class="line"><span class="number">3</span>c183de42679: Pull complete </span><br><span class="line"><span class="number">6</span>de69b5c2f3c: Pull complete </span><br><span class="line"><span class="number">00</span>f0a4086406: Pull complete </span><br><span class="line"><span class="number">84</span>d93aea836d: Pull complete </span><br><span class="line">e2dd1f3e5a3d: Pull complete </span><br><span class="line"><span class="number">98</span>fb37478ee6: Pull complete </span><br><span class="line"><span class="number">57</span>eb21662ebf: Pull complete </span><br><span class="line">e95057f0a050: Pull complete </span><br><span class="line">Digest: sha256:cf6899e980c38071a78ded028de40e65286bfbbb746b97617ac4c9a84c4e812d</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> mysql:<span class="number">5.7</span></span><br><span class="line">docker.io/library/mysql:<span class="number">5.7</span></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">nginx               latest              <span class="number">2073</span>e0bcb60e        <span class="number">4</span> days ago          <span class="number">127</span>MB</span><br><span class="line">mysql               <span class="number">5.7</span>                 c4f186b9e038        <span class="number">4</span> days ago          <span class="number">435</span>MB</span><br><span class="line">apache/kudu         latest              e1c6e5b62086        <span class="number">2</span> months ago        <span class="number">476</span>MB</span><br><span class="line">hello-world         latest              fce289e99eb9        <span class="number">13</span> months ago       <span class="number">1.84</span>kB</span><br><span class="line">kunickiaj/kudu      latest              c30c95f5fe58        <span class="number">17</span> months ago       <span class="number">896</span>MB</span><br><span class="line">docker/compose      <span class="number">1.8</span>.<span class="number">0</span>               <span class="number">89188432</span>ef03        <span class="number">3</span> years ago         <span class="number">59.1</span>MB</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure></div>
<p><img src="https://img-blog.csdnimg.cn/20200206164751677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>.如何去运行  看上面图片</span><br><span class="line"></span><br><span class="line">docker run \</span><br><span class="line">--name doublehappy-mysql1 \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> \</span><br><span class="line">-d mysql:<span class="number">5.7</span></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">-e 指的是 环境变量</span><br><span class="line"> 这个密码怎么传过去的呢？一会解释</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker run \</span></span><br><span class="line">&gt; --name doublehappy-mysql1 \</span><br><span class="line">&gt; -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> \</span><br><span class="line">&gt; -d mysql:<span class="number">5.7</span></span><br><span class="line">ed9c2cb2591cc8fa85af1c14497bed28c4da9b8c94e94e50e5c5b89ff93154cc</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</span><br><span class="line">ed9c2cb2591c        mysql:<span class="number">5.7</span>           <span class="string">"docker-entrypoint.s…"</span>   <span class="number">45</span> seconds ago      Up <span class="number">44</span> seconds       <span class="number">3306</span>/tcp, <span class="number">33060</span>/tcp    doublehappy-mysql1</span><br><span class="line"><span class="number">7</span>fbe515cc1ee        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   <span class="number">29</span> minutes ago      Up <span class="number">29</span> minutes       <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8081</span>-&gt;<span class="number">80</span>/tcp   doublehappy-nginx2</span><br><span class="line">d4267c461c6c        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   About an hour ago   Up About an hour    <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8080</span>-&gt;<span class="number">80</span>/tcp   doublehappy-nginx1</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3306</span>/tcp, <span class="number">33060</span>/tcp:</span><br><span class="line">	表示多个端口 对外提供 映射服务的</span><br><span class="line"></span><br><span class="line">这个没有箭头 说明外面是 访问不了的 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker exec -it doublehappy-mysql1 /bin/bash</span></span><br><span class="line">root@ed9c2cb2591c:/<span class="comment"># which ps</span></span><br><span class="line">root@ed9c2cb2591c:/<span class="comment"># </span></span><br><span class="line">root@ed9c2cb2591c:/<span class="comment"># </span></span><br><span class="line">root@ed9c2cb2591c:/<span class="comment"># mysql -uroot -p123456</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> with ; or \g.</span><br><span class="line">Your MySQL connection id is <span class="number">2</span></span><br><span class="line">Server version: <span class="number">5.7</span>.<span class="number">29</span> MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2020</span>, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> help. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br><span class="line"> +--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line"><span class="number">4</span> rows <span class="keyword">in</span> set (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如何对外访问？？</span><br><span class="line">  之前的 nginx 是 命令 加一个 -p</span><br><span class="line"></span><br><span class="line">docker run \</span><br><span class="line">--name doublehappy-mysql2 \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> \</span><br><span class="line">-p <span class="number">33060</span>:<span class="number">3306</span> \</span><br><span class="line">-d mysql:<span class="number">5.7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker run \</span></span><br><span class="line">&gt; --name doublehappy-mysql2 \</span><br><span class="line">&gt; -e MYSQL_ROOT_PASSWORD=<span class="number">123456</span> \</span><br><span class="line">&gt; -p <span class="number">33060</span>:<span class="number">3306</span> \</span><br><span class="line">&gt; -d mysql:<span class="number">5.7</span></span><br><span class="line">b66ce92bfa4f5c53a588a41e015bb7b045eaa602df5cf0d98c40bec7c3bd6571</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                NAMES</span><br><span class="line">b66ce92bfa4f        mysql:<span class="number">5.7</span>           <span class="string">"docker-entrypoint.s…"</span>   <span class="number">13</span> seconds ago      Up <span class="number">12</span> seconds       <span class="number">33060</span>/tcp, <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">33060</span>-&gt;<span class="number">3306</span>/tcp   doublehappy-mysql2</span><br><span class="line">ed9c2cb2591c        mysql:<span class="number">5.7</span>           <span class="string">"docker-entrypoint.s…"</span>   <span class="number">6</span> minutes ago       Up <span class="number">6</span> minutes        <span class="number">3306</span>/tcp, <span class="number">33060</span>/tcp                  doublehappy-mysql1</span><br><span class="line"><span class="number">7</span>fbe515cc1ee        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   <span class="number">35</span> minutes ago      Up <span class="number">35</span> minutes       <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8081</span>-&gt;<span class="number">80</span>/tcp                 doublehappy-nginx2</span><br><span class="line">d4267c461c6c        nginx:latest        <span class="string">"nginx -g 'daemon of…"</span>   About an hour ago   Up About an hour    <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">8080</span>-&gt;<span class="number">80</span>/tcp                 doublehappy-nginx1</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"><span class="number">33060</span>/tcp, <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">33060</span>-&gt;<span class="number">3306</span>/tcp  映射成功 </span><br><span class="line"></span><br><span class="line">ok 我们 用 海迪链接一下</span><br></pre></td></tr></table></figure></div>
<p><img src="https://img-blog.csdnimg.cn/20200206170328683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment"># ps -ef | grep docker</span></span><br><span class="line">root      <span class="number">6599</span>     <span class="number">1</span>  <span class="number">0</span> <span class="number">14</span>:<span class="number">13</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">19</span> /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock</span><br><span class="line">root     <span class="number">11669</span>  <span class="number">6599</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">49</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /usr/bin/docker-proxy -proto tcp -host-ip <span class="number">0.0</span>.<span class="number">0.0</span> -host-port <span class="number">8080</span> -container-ip <span class="number">172.17</span>.<span class="number">0.2</span> -container-port <span class="number">80</span></span><br><span class="line">root     <span class="number">11701</span>  <span class="number">6598</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">49</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> containerd-shim -namespace moby -workdir /var/lib/containerd/io.containerd.runtime.v1.linux/moby/d4267c461c6cb0cfaeac3a2e4037f6ad1fbb57bfe31264888ff1e4ca220e5f8b -address /run/containerd/containerd.sock -containerd-binary /usr/bin/containerd -runtime-root /var/run/docker/runtime-runc</span><br><span class="line">root     <span class="number">13582</span>  <span class="number">3143</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">01</span> pts/<span class="number">1</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> docker exec -it d4267c461c6c /bin/bash</span><br><span class="line">root     <span class="number">13909</span>  <span class="number">6599</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">20</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /usr/bin/docker-proxy -proto tcp -host-ip <span class="number">0.0</span>.<span class="number">0.0</span> -host-port <span class="number">8081</span> -container-ip <span class="number">172.17</span>.<span class="number">0.3</span> -container-port <span class="number">80</span></span><br><span class="line">root     <span class="number">13925</span>  <span class="number">6598</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">20</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> containerd-shim -namespace moby -workdir /var/lib/containerd/io.containerd.runtime.v1.linux/moby/<span class="number">7</span>fbe515cc1ee97390b66f686f0119232c9f329898b9f57bebabdfd89f23fd641 -address /run/containerd/containerd.sock -containerd-binary /usr/bin/containerd -runtime-root /var/run/docker/runtime-runc</span><br><span class="line">root     <span class="number">14128</span> <span class="number">13798</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">25</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> docker exec -it doublehappy-nginx2 /bin/bash</span><br><span class="line">root     <span class="number">16274</span>  <span class="number">6598</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">49</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> containerd-shim -namespace moby -workdir /var/lib/containerd/io.containerd.runtime.v1.linux/moby/ed9c2cb2591cc8fa85af1c14497bed28c4da9b8c94e94e50e5c5b89ff93154cc -address /run/containerd/containerd.sock -containerd-binary /usr/bin/containerd -runtime-root /var/run/docker/runtime-runc</span><br><span class="line">root     <span class="number">16786</span>  <span class="number">6599</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">55</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> /usr/bin/docker-proxy -proto tcp -host-ip <span class="number">0.0</span>.<span class="number">0.0</span> -host-port <span class="number">33060</span> -container-ip <span class="number">172.17</span>.<span class="number">0.5</span> -container-port <span class="number">3306</span></span><br><span class="line">root     <span class="number">16810</span>  <span class="number">6598</span>  <span class="number">0</span> <span class="number">16</span>:<span class="number">55</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> containerd-shim -namespace moby -workdir /var/lib/containerd/io.containerd.runtime.v1.linux/moby/b66ce92bfa4f5c53a588a41e015bb7b045eaa602df5cf0d98c40bec7c3bd6571 -address /run/containerd/containerd.sock -containerd-binary /usr/bin/containerd -runtime-root /var/run/docker/runtime-runc</span><br><span class="line">root     <span class="number">17188</span> <span class="number">14323</span>  <span class="number">0</span> <span class="number">17</span>:<span class="number">04</span> pts/<span class="number">2</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=auto docker</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">runtime-runc  有四个 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我们进程 运行了 四个 正确</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">注意：</span><br><span class="line">	是个进程 </span><br><span class="line">	那么 mysql 的数据存放在哪里呢？</span><br><span class="line">	会不会随着进程的kill 而数据丢失呢？</span><br></pre></td></tr></table></figure></div>
<h2 id="docker-架构"><a href="#docker-架构" class="headerlink" title="docker 架构"></a>docker 架构</h2><p><img src="https://img-blog.csdnimg.cn/20200206170932854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9kb3VibGVoYXBweS5ibG9nLmNzZG4ubmV0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><a href="https://docs.docker.com/engine/docker-overview/" target="_blank" rel="noopener">架构</a></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">按照图片 线 走</span><br></pre></td></tr></table></figure></div>
<h2 id="docker-如何构建自己的镜像"><a href="#docker-如何构建自己的镜像" class="headerlink" title="docker 如何构建自己的镜像"></a>docker 如何构建自己的镜像</h2><p><a href="https://github.com/docker-library/mysql/blob/6952c5d5a9889311157362c528d65dc2e37ff660/5.7/Dockerfile" target="_blank" rel="noopener">以官方 mysql为例</a><br><a href="https://github.com/docker-library/mysql/blob/6952c5d5a9889311157362c528d65dc2e37ff660/5.7/docker-entrypoint.sh" target="_blank" rel="noopener">mysql Dockerfile 脚本  ： 相当于入口</a></p>
<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.找</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">	要构建我们的 Dockerfile    就是把官网的 拿来</span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># mkdir mysql5.7</span></span><br><span class="line">[root@hadoop101 ~]<span class="comment"># cd mysql5.7/</span></span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># vi Dockerfile</span></span><br><span class="line">FROM debian:stretch-slim</span><br><span class="line"></span><br><span class="line">RUN groupadd -r mysql &amp;&amp; useradd -r -g mysql mysql</span><br><span class="line"></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends gnupg dirmngr &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br><span class="line"></span><br><span class="line"><span class="comment"># add gosu for easy step-down from root</span></span><br><span class="line">ENV GOSU_VERSION <span class="number">1.7</span></span><br><span class="line">RUN set -x \</span><br><span class="line">        &amp;&amp; export GNUPGHOME=<span class="string">"$(mktemp -d)"</span> \</span><br><span class="line">        &amp;&amp; gpg --batch --verify /usr/local/bin/gosu.asc /usr/local/bin/gosu \</span><br><span class="line">        &amp;&amp; gpgconf --kill all \</span><br><span class="line">        &amp;&amp; rm -rf <span class="string">"<span class="variable">$GNUPGHOME</span>"</span> /usr/local/bin/gosu.asc \</span><br><span class="line">        &amp;&amp; chmod +x /usr/local/bin/gosu \</span><br><span class="line">        &amp;&amp; gosu nobody true \</span><br><span class="line">        &amp;&amp; apt-get purge -y --auto-remove ca-certificates wget</span><br><span class="line"></span><br><span class="line">RUN mkdir /docker-entrypoint-initdb.d</span><br><span class="line"></span><br><span class="line">RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends \</span><br><span class="line"><span class="comment"># for MYSQL_RANDOM_ROOT_PASSWORD</span></span><br><span class="line">                pwgen \</span><br><span class="line"><span class="comment"># for mysql_ssl_rsa_setup</span></span><br><span class="line">                openssl \</span><br><span class="line"><span class="comment"># File::Basename</span></span><br><span class="line"><span class="comment"># File::Copy</span></span><br><span class="line"><span class="comment"># Sys::Hostname</span></span><br><span class="line">        &amp;&amp; rm -rf /var/lib/apt/lists/*</span><br><span class="line"></span><br><span class="line">RUN set -ex; \</span><br><span class="line"><span class="comment"># gpg: key 5072E1F5: public key "MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;" imported</span></span><br><span class="line">        key=<span class="string">'A4A9406876FCBD3C456770C88C718D3B5072E1F5'</span>; \</span><br><span class="line">        export GNUPGHOME=<span class="string">"$(mktemp -d)"</span>; \</span><br><span class="line">        gpg --batch --keyserver ha.pool.sks-keyservers.net --recv-keys <span class="string">"<span class="variable">$key</span>"</span>; \</span><br><span class="line">        gpg --batch --export <span class="string">"<span class="variable">$key</span>"</span> &gt; /etc/apt/trusted.gpg.d/mysql.gpg; \</span><br><span class="line">        gpgconf --kill all; \</span><br><span class="line">        rm -rf <span class="string">"<span class="variable">$GNUPGHOME</span>"</span>; \</span><br><span class="line">ENV MYSQL_MAJOR <span class="number">5.7</span></span><br><span class="line">ENV MYSQL_VERSION <span class="number">5.7</span>.<span class="number">29</span>-<span class="number">1</span>debian9</span><br><span class="line"></span><br><span class="line">RUN echo <span class="string">"deb http://repo.mysql.com/apt/debian/ stretch mysql-$&#123;MYSQL_MAJOR&#125;"</span> &gt; /etc/apt/sources.list.d/mysql.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># also, we set debconf keys to make APT a little quieter</span></span><br><span class="line">RUN &#123; \</span><br><span class="line">                echo mysql-community-server mysql-community-server/data-dir select <span class="string">''</span>; \</span><br><span class="line">                echo mysql-community-server mysql-community-server/root-pass password <span class="string">''</span>; \</span><br><span class="line">                echo mysql-community-server mysql-community-server/re-root-pass password <span class="string">''</span>; \</span><br><span class="line">                echo mysql-community-server mysql-community-server/remove-test-db select false; \</span><br><span class="line">        &#125; | debconf-set-selections \</span><br><span class="line">        &amp;&amp; apt-get update &amp;&amp; apt-get install -y mysql-server=<span class="string">"$&#123;MYSQL_VERSION&#125;"</span> &amp;&amp; rm -rf /var/lib/apt/lists/* \</span><br><span class="line">        &amp;&amp; rm -rf /var/lib/mysql &amp;&amp; mkdir -p /var/lib/mysql /var/run/mysqld \</span><br><span class="line">        &amp;&amp; chown -R mysql:mysql /var/lib/mysql /var/run/mysqld \</span><br><span class="line"><span class="comment"># ensure that /var/run/mysqld (used for socket and lock files) is writable regardless of the UID our mysqld instan</span></span><br><span class="line">ce ends up having at runtime</span><br><span class="line">        &amp;&amp; chmod <span class="number">777</span> /var/run/mysqld \</span><br><span class="line"><span class="comment"># comment out a few problematic configuration values</span></span><br><span class="line">        &amp;&amp; find /etc/mysql/ -name <span class="string">'*.cnf'</span> -print0 \</span><br><span class="line">                | xargs -<span class="number">0</span> grep -lZE <span class="string">'^(bind-address|log)'</span> \</span><br><span class="line">                | xargs -rt -<span class="number">0</span> sed -Ei <span class="string">'s/^(bind-address|log)/#&amp;/'</span> \</span><br><span class="line"><span class="comment"># don't reverse lookup hostnames, they are usually another container</span></span><br><span class="line">        &amp;&amp; echo <span class="string">'[mysqld]\nskip-host-cache\nskip-name-resolve'</span> &gt; /etc/mysql/conf.d/docker.cnf</span><br><span class="line"></span><br><span class="line">VOLUME /var/lib/mysql</span><br><span class="line"></span><br><span class="line">COPY docker-entrypoint.sh /usr/local/bin/</span><br><span class="line">RUN ln -s usr/local/bin/docker-entrypoint.sh /entrypoint.sh <span class="comment"># backwards compat</span></span><br><span class="line">ENTRYPOINT [<span class="string">"docker-entrypoint.sh"</span>]</span><br><span class="line"></span><br><span class="line">EXPOSE <span class="number">3306</span> <span class="number">33060</span></span><br><span class="line">CMD [<span class="string">"mysqld"</span>]</span><br><span class="line"><span class="string">"Dockerfile"</span> [New] <span class="number">80</span>L, <span class="number">3803</span>C written</span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># 	</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">	一般Dockerfile 都有 shell脚本 看看 Dockerfile    docker-entrypoint.sh</span><br><span class="line"> 这个脚本就是入口</span><br><span class="line"></span><br><span class="line">把这个脚本也做好 </span><br><span class="line"></span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># ll</span></span><br><span class="line">total <span class="number">20</span></span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root <span class="number">12713</span> Feb  <span class="number">6</span> <span class="number">17</span>:<span class="number">23</span> docker-entrypoint.sh</span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root  <span class="number">3803</span> Feb  <span class="number">6</span> <span class="number">17</span>:<span class="number">18</span> Dockerfile</span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.命令构建</span><br><span class="line"></span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># ll</span></span><br><span class="line">total <span class="number">20</span></span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root <span class="number">12713</span> Feb  <span class="number">6</span> <span class="number">17</span>:<span class="number">23</span> docker-entrypoint.sh</span><br><span class="line">-rw-r--r-- <span class="number">1</span> root root  <span class="number">3803</span> Feb  <span class="number">6</span> <span class="number">17</span>:<span class="number">18</span> Dockerfile</span><br><span class="line"></span><br><span class="line">[root@hadoop101 mysql5.<span class="number">7</span>]<span class="comment"># docker build ./ -t mysql:doublehappy5.7</span></span><br><span class="line">Sending build context to Docker daemon  <span class="number">18.94</span>kB</span><br><span class="line">Step <span class="number">1</span>/<span class="number">18</span> : FROM debian:stretch-slim</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">	建议 用国外的 服务器 可以翻墙的 要不然真的很慢</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>.解读Dockerfile：</span><br><span class="line">FROM 基础镜像</span><br><span class="line">	eg:</span><br><span class="line">	FROM debian:stretch-slim</span><br><span class="line">		系统名字: 镜像的名字</span><br><span class="line">		注意：debian 这个系统比较轻量级 centos 比较重 所以  debian 最终构建的 镜像比较小</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RUN 在基础镜像的Linux操作命令</span><br><span class="line">	eg：RUN groupadd -r mysql &amp;&amp; useradd -r -g mysql mysql</span><br><span class="line"></span><br><span class="line">apt-get ==》yum </span><br><span class="line"></span><br><span class="line">ENV 环境变量</span><br><span class="line">    k=v  <span class="variable">$k</span></span><br><span class="line"></span><br><span class="line">VOLUME 定义匿名卷      !!!!  就是 文件的目录 这个很重要</span><br><span class="line"></span><br><span class="line">COPY  复制文本</span><br><span class="line">      源路径  目标路径</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ENTRYPOINT [<span class="string">"docker-entrypoint.sh"</span>]</span><br><span class="line">           设定容器启动时第一个运行的命令及参数</span><br><span class="line">			也就是说 这个shell 脚本里面 可以接收外部的 参数 </span><br><span class="line"></span><br><span class="line">EXPOSE <span class="number">3306</span> <span class="number">33060</span>  </span><br><span class="line">      仅作为容器的服务使用什么端口号，且并不会主动在宿主Linux上自动映射端口</span><br><span class="line"></span><br><span class="line">CMD [<span class="string">"mysqld"</span>]</span><br><span class="line">           运行服务</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">总结：</span><br><span class="line">	毕竟 这是官网的</span><br><span class="line">	你生产上 你要根据你自己的需求 来构建镜像 </span><br><span class="line">	Dockfile 如何编写 和 shell 脚本 都是要你自己来写哒</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">shell 脚本：</span><br><span class="line"></span><br><span class="line">/bin/bash</span><br><span class="line"></span><br><span class="line">f2() &#123;</span><br><span class="line"> k2=v2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f1() &#123;</span><br><span class="line"> echo $k2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_main() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">	shell脚本是 从上往下加载的</span><br></pre></td></tr></table></figure></div>
<h2 id="停止"><a href="#停止" class="headerlink" title="停止"></a>停止</h2><div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]# docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                NAMES</span><br><span class="line">3b4168987e1b        657af8c03255        &quot;/bin/sh -c &apos;set -x …&quot;   5 minutes ago       Up 5 minutes                                             agitated_sammet</span><br><span class="line">b66ce92bfa4f        mysql:5.7           &quot;docker-entrypoint.s…&quot;   2 hours ago         Up 2 hours          33060/tcp, 0.0.0.0:33060-&gt;3306/tcp   doublehappy-mysql2</span><br><span class="line">ed9c2cb2591c        mysql:5.7           &quot;docker-entrypoint.s…&quot;   2 hours ago         Up 2 hours          3306/tcp, 33060/tcp                  doublehappy-mysql1</span><br><span class="line">7fbe515cc1ee        nginx:latest        &quot;nginx -g &apos;daemon of…&quot;   3 hours ago         Up 3 hours          0.0.0.0:8081-&gt;80/tcp                 doublehappy-nginx2</span><br><span class="line">d4267c461c6c        nginx:latest        &quot;nginx -g &apos;daemon of…&quot;   3 hours ago         Up 3 hours          0.0.0.0:8080-&gt;80/tcp                 doublehappy-nginx1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop101 ~]# docker stop doublehappy-mysql1</span><br><span class="line">doublehappy-mysql1</span><br><span class="line">[root@hadoop101 ~]# docker ps</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                NAMES</span><br><span class="line">3b4168987e1b        657af8c03255        &quot;/bin/sh -c &apos;set -x …&quot;   6 minutes ago       Up 6 minutes                                             agitated_sammet</span><br><span class="line">b66ce92bfa4f        mysql:5.7           &quot;docker-entrypoint.s…&quot;   2 hours ago         Up 2 hours          33060/tcp, 0.0.0.0:33060-&gt;3306/tcp   doublehappy-mysql2</span><br><span class="line">7fbe515cc1ee        nginx:latest        &quot;nginx -g &apos;daemon of…&quot;   3 hours ago         Up 3 hours          0.0.0.0:8081-&gt;80/tcp                 doublehappy-nginx2</span><br><span class="line">d4267c461c6c        nginx:latest        &quot;nginx -g &apos;daemon of…&quot;   3 hours ago         Up 3 hours          0.0.0.0:8080-&gt;80/tcp                 doublehappy-nginx1</span><br><span class="line">[root@hadoop101 ~]#</span><br></pre></td></tr></table></figure></div>

<div class="highlight-box"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment"># docker --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker [OPTIONS] COMMAND</span><br><span class="line"></span><br><span class="line">A self-sufficient runtime <span class="keyword">for</span> containers</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">      --config string      Location of client config files (default <span class="string">"/root/.docker"</span>)</span><br><span class="line">  -c, --context string     Name of the context to use to connect to the daemon (overrides DOCKER_HOST env</span><br><span class="line">                           var and default context set with <span class="string">"docker context use"</span>)</span><br><span class="line">  -D, --debug              Enable debug mode</span><br><span class="line">  -H, --host list          Daemon socket(s) to connect to</span><br><span class="line">  -l, --log-level string   Set the logging level (<span class="string">"debug"</span>|<span class="string">"info"</span>|<span class="string">"warn"</span>|<span class="string">"error"</span>|<span class="string">"fatal"</span>) (default <span class="string">"info"</span>)</span><br><span class="line">      --tls                Use TLS; implied by --tlsverify</span><br><span class="line">      --tlscacert string   Trust certs signed only by this CA (default <span class="string">"/root/.docker/ca.pem"</span>)</span><br><span class="line">      --tlscert string     Path to TLS certificate file (default <span class="string">"/root/.docker/cert.pem"</span>)</span><br><span class="line">      --tlskey string      Path to TLS key file (default <span class="string">"/root/.docker/key.pem"</span>)</span><br><span class="line">      --tlsverify          Use TLS and verify the remote</span><br><span class="line">  -v, --version            Print version information and quit</span><br><span class="line"></span><br><span class="line">Management Commands:</span><br><span class="line">  builder     Manage builds</span><br><span class="line">  config      Manage Docker configs</span><br><span class="line">  container   Manage containers</span><br><span class="line">  context     Manage contexts</span><br><span class="line">  engine      Manage the docker engine</span><br><span class="line">  image       Manage images</span><br><span class="line">  network     Manage networks</span><br><span class="line">  node        Manage Swarm nodes</span><br><span class="line">  plugin      Manage plugins</span><br><span class="line">  secret      Manage Docker secrets</span><br><span class="line">  service     Manage services</span><br><span class="line">  stack       Manage Docker stacks</span><br><span class="line">  swarm       Manage Swarm</span><br><span class="line">  system      Manage Docker</span><br><span class="line">  trust       Manage trust on Docker images</span><br><span class="line">  volume      Manage volumes</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  attach      Attach local standard input, output, and error streams to a running container</span><br><span class="line">  build       Build an image from a Dockerfile</span><br><span class="line">  commit      Create a new image from a container<span class="string">'s changes</span></span><br><span class="line"><span class="string">  cp          Copy files/folders between a container and the local filesystem</span></span><br><span class="line"><span class="string">  create      Create a new container</span></span><br><span class="line"><span class="string">  diff        Inspect changes to files or directories on a container'</span>s filesystem</span><br><span class="line">  events      Get real time events from the server</span><br><span class="line">  exec        Run a command <span class="keyword">in</span> a running container</span><br><span class="line">  export      Export a container<span class="string">'s filesystem as a tar archive</span></span><br><span class="line"><span class="string">  history     Show the history of an image</span></span><br><span class="line"><span class="string">  images      List images</span></span><br><span class="line"><span class="string">  import      Import the contents from a tarball to create a filesystem image</span></span><br><span class="line"><span class="string">  info        Display system-wide information</span></span><br><span class="line"><span class="string">  inspect     Return low-level information on Docker objects</span></span><br><span class="line"><span class="string">  kill        Kill one or more running containers</span></span><br><span class="line"><span class="string">  load        Load an image from a tar archive or STDIN</span></span><br><span class="line"><span class="string">  login       Log in to a Docker registry</span></span><br><span class="line"><span class="string">  logout      Log out from a Docker registry</span></span><br><span class="line"><span class="string">  logs        Fetch the logs of a container</span></span><br><span class="line"><span class="string">  pause       Pause all processes within one or more containers</span></span><br><span class="line"><span class="string">  port        List port mappings or a specific mapping for the container</span></span><br><span class="line"><span class="string">  ps          List containers</span></span><br><span class="line"><span class="string">  pull        Pull an image or a repository from a registry</span></span><br><span class="line"><span class="string">  push        Push an image or a repository to a registry</span></span><br><span class="line"><span class="string">  rename      Rename a container</span></span><br><span class="line"><span class="string">  restart     Restart one or more containers</span></span><br><span class="line"><span class="string">  rm          Remove one or more containers</span></span><br><span class="line"><span class="string">  rmi         Remove one or more images</span></span><br><span class="line"><span class="string">  run         Run a command in a new container</span></span><br><span class="line"><span class="string">  save        Save one or more images to a tar archive (streamed to STDOUT by default)</span></span><br><span class="line"><span class="string">  search      Search the Docker Hub for images</span></span><br><span class="line"><span class="string">  start       Start one or more stopped containers</span></span><br><span class="line"><span class="string">  stats       Display a live stream of container(s) resource usage statistics</span></span><br><span class="line"><span class="string">  stop        Stop one or more running containers</span></span><br><span class="line"><span class="string">  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span></span><br><span class="line"><span class="string">  top         Display the running processes of a container</span></span><br><span class="line"><span class="string">  unpause     Unpause all processes within one or more containers</span></span><br><span class="line"><span class="string">  update      Update configuration of one or more containers</span></span><br><span class="line"><span class="string">  version     Show the Docker version information</span></span><br><span class="line"><span class="string">  wait        Block until one or more containers stop, then print their exit codes</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Run '</span>docker COMMAND --help<span class="string">' for more information on a command.</span></span><br><span class="line"><span class="string">[root@hadoop101 ~]#</span></span><br></pre></td></tr></table></figure></div>
      
    </div>
    
      <footer class="article-footer">
        完
      </footer>
    
  </div>
  
    
<nav id="article-nav">
  <div class="article-nav-block">
    
  </div>
  <div class="article-nav-block">
    
      <a href="/2020/04/27/k8s-Spark-doublehappy/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">k8s-Spark-doublehappy</div>
        <strong class="article-nav-caption"></strong>
      </a>
    
  </div>
</nav>

    <link rel="stylesheet" href="/css/gitment.css"> 
<script src="/js/gitment.js"></script>

<div id="gitmentContainer"></div>

<script>
var gitment = new Gitment({
  owner: '',
  repo: '',
  oauth: {
    client_id: '',
    client_secret: '',
  },
})
gitment.render('gitmentContainer')
</script>

  
  
</article>
</section>
        <aside id="sidebar">
  
    <div class="widget-box">
  <div class="avatar-box">
    <img class="avatar" src="/images/default-avatar.jpg" title="图片来自网络"></img>
    <h3 class="avatar-name">
      
        DoubleHappy
      
    </h3>
    <p class="avatar-slogan">
      特别耐撕的大数据，资深的打酱油攻城狮。
    </p>
  </div>
</div>


  
    

  
    

  
    
  
    
  <div class="widget-box">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li></ul>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/27/docker-doublehappy/">docker--doublehappy</a>
          </li>
        
          <li>
            <a href="/2020/04/27/k8s-Spark-doublehappy/">k8s-Spark-doublehappy</a>
          </li>
        
          <li>
            <a href="/2020/01/05/Kudu-Impala%E6%95%85%E9%9A%9C%E6%A1%88%E4%BE%8B01-double-happy/">Kudu+Impala故障案例01--double_happy</a>
          </li>
        
          <li>
            <a href="/2020/01/05/Flink04-double-happy/">Flink04--double_happy</a>
          </li>
        
          <li>
            <a href="/2020/01/05/Flink03-double-happy/">Flink03--double_happy</a>
          </li>
        
      </ul>
    </div>
  </div>

  
      <div class="widget-box">
    <h3 class="widget-title">友链</h3>
    <div class="widget">
      
        <a style="display: block;" href="https://liverrrr.fun/archives" title target='_blank'
        >一路眼瞎</a>
      
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  <div class="foot-box global-width">
    &copy; 2020 DoubleHappy &nbsp;&nbsp;
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    &nbsp;|&nbsp;主题 <a href="https://github.com/yiluyanxia/hexo-theme-antiquity" target="_blank" rel="noopener">antiquity</a>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">不蒜子告之   阁下是第<span id="busuanzi_value_site_pv"></span>个访客</span>
  </div>
</footer>
      <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
<script>
if (!window.jQuery) {
var script = document.createElement('script');
script.src = "/js/jquery-2.0.3.min.js";
document.body.write(script);
}
</script>


<script src="/js/script.js"></script>



    </div>
    <nav id="mobile-nav" class="mobile-nav-box">
  <div class="mobile-nav-img mobile-nav-top"></div>
  
    <a href="/archives" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
  <div class="mobile-nav-img  mobile-nav-bottom"></div>
</nav>    
  </div>
</body>
</html>